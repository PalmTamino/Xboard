import{r as j,j as e,a as f,g as p,B as b,t as _}from"./index-ra1jmRmU.js";import{S as g}from"./separator-Ckt7QEUw.js";import{z as s,t as v}from"./zod-DftZp2aV.js";import{C as F}from"./react-icons.esm-BRv52UVg.js";import{u as N,F as S,a as t,b as o,c as a,f as l,d as c,e as m}from"./form-BdPgCkkB.js";import{I as y}from"./input-BJSapCFH.js";import{S as h}from"./switch-koO8JJ-3.js";import{u as C}from"./useQuery-BPONQpNy.js";import{e as k,s as w}from"./index-vL3ySUIK.js";import"./index-QSXu8nGm.js";import"./index-OwEZQf1t.js";import"./index-DGqrqZGX.js";import"./index-NvRyusV4.js";import"./clipboard-Bl2zvJsv.js";const E=s.object({frontend_theme:s.string().nullable(),frontend_theme_sidebar:s.string().nullable(),frontend_theme_header:s.string().nullable(),frontend_theme_color:s.string().nullable(),frontend_background_url:s.string().url().nullable()}),I={frontend_theme:"",frontend_theme_sidebar:"",frontend_theme_header:"",frontend_theme_color:"",frontend_background_url:""};function V(){const{data:d}=C({queryKey:["settings","frontend"],queryFn:()=>k("frontend")}),r=N({resolver:v(E),defaultValues:I,mode:"onChange"});j.useEffect(()=>{if(d?.data?.frontend){const n=d?.data?.frontend;Object.entries(n).forEach(([i,u])=>{r.setValue(i,u)})}},[d]);function x(n){w(n).then(({data:i})=>{i&&_.success("更新成功")})}return e.jsx(S,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(x),className:"space-y-8",children:[e.jsx(t,{control:r.control,name:"frontend_theme_sidebar",render:({field:n})=>e.jsxs(o,{children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{className:"text-base",children:"边栏风格"}),e.jsx(l,{children:"边栏风格"})]}),e.jsx(c,{children:e.jsx(h,{checked:n.value,onCheckedChange:n.onChange})})]})}),e.jsx(t,{control:r.control,name:"frontend_theme_header",render:({field:n})=>e.jsxs(o,{children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(a,{className:"text-base",children:"头部风格"}),e.jsx(l,{children:"边栏风格"})]}),e.jsx(c,{children:e.jsx(h,{checked:n.value,onCheckedChange:n.onChange})})]})}),e.jsx(t,{control:r.control,name:"frontend_theme_color",render:({field:n})=>e.jsxs(o,{children:[e.jsx(a,{children:"主题色"}),e.jsxs("div",{className:"relative w-max",children:[e.jsx(c,{children:e.jsxs("select",{className:f(p({variant:"outline"}),"w-[200px] appearance-none font-normal"),...n,children:[e.jsx("option",{value:"default",children:"默认"}),e.jsx("option",{value:"black",children:"黑色"}),e.jsx("option",{value:"blackblue",children:"暗蓝色"}),e.jsx("option",{value:"green",children:"奶绿色"})]})}),e.jsx(F,{className:"absolute right-3 top-2.5 h-4 w-4 opacity-50"})]}),e.jsx(l,{children:"主题色"}),e.jsx(m,{})]})}),e.jsx(t,{control:r.control,name:"frontend_background_url",render:({field:n})=>e.jsxs(o,{children:[e.jsx(a,{children:"背景"}),e.jsx(c,{children:e.jsx(y,{placeholder:"请输入图片地址",...n})}),e.jsx(l,{children:"将会在后台登录页面进行展示。"}),e.jsx(m,{})]})}),e.jsx(b,{type:"submit",children:"保存设置"})]})})}function P(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"个性化设置"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"自定义系统界面外观，包括主题风格、布局、颜色方案、背景图等个性化选项。"})]}),e.jsx(g,{}),e.jsx(V,{})]})}export{P as default};
